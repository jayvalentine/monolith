parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"iJlX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(){}return n.interval=function(n,r){return Math.floor(Math.random()*(r-n+1))+n},n.choice=function(r){return r[n.interval(0,r.length-1)]},n.chance=function(n){return Math.random()<n},n.progressiveChance=function(n,r,t){var e=Math.min(r*n,t);return Math.random()<e},n}();exports.Random=n;
},{}],"oXG4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.allocate=function(r){e.ids.hasOwnProperty(r)||(e.ids[r]=0);var t=r+"-"+e.ids[r];return e.ids[r]++,t},e.ids={},e}();exports.IDAllocator=e;
},{}],"azeZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var t=require("./random"),e=[],i=0;i<26;i++)e[i]=String.fromCharCode(97+i);var n=["a","e","i","o","u"],o=e.filter(function(t,e,i){return-1==n.indexOf(t)}),r=function(){return function(t,e){this.suffix=t,this.optional=e}}(),a=function(){return function(t,e,i,n){this.base=t,this.plural=e,this.genitive=i,this.adjectives=n}}();exports.Noun=a;var s=function(){function e(){this.plural=e.getSuffix(),this.genitive=e.getSuffix(),this.adjective=e.getSuffix(),t.Random.chance(.5)?this.adjectivePolicy=e.Position.Before:this.adjectivePolicy=e.Position.After,this.translations={}}return e.capitalize=function(t){var e=t.slice(1);return t.charAt(0).toUpperCase()+e},e.toTitle=function(t){return t.split(" ").map(e.capitalize).join(" ")},e.getSuffix=function(){var e=t.Random.choice(n),i=t.Random.choice(o)+t.Random.choice(n);return new r(i,e)},e.addSuffix=function(t,e){return o.indexOf(t[t.length-1])>-1&&(t+=e.optional),t+=e.suffix},e.prototype.translate=function(t){for(var i=[],n=0,o=t;n<o.length;n++){var r=o[n],a=this.translateWord(r.base);r.plural&&(a=e.addSuffix(a,this.plural)),r.genitive&&(a=e.addSuffix(a,this.genitive));for(var s=[],f=0,u=r.adjectives;f<u.length;f++){var c=u[f],h=this.translateWord(c);h=e.addSuffix(h,this.adjective),s.push(h)}this.adjectivePolicy==e.Position.Before&&(i=i.concat(s)),i.push(a),this.adjectivePolicy==e.Position.After&&(i=i.concat(s))}return i.join(" ")},e.prototype.translateWord=function(t){for(var e=[],i="",r=0,a=t.split("");r<a.length;r++){var s=a[r];if(i.length>0){var f=i[i.length-1];n.indexOf(f)>-1?(e.push(i),i=""):o.indexOf(f)>-1&&o.indexOf(s)>-1&&f!=s&&(e.push(i),i="")}i+=s}i.length>0&&e.push(i);for(var u="",c=0,h=e;c<h.length;c++){var l=h[c];u+=this.translatePhoneme(l)}return u},e.prototype.translatePhoneme=function(e){if(!this.translations.hasOwnProperty(e)){for(var i="",r=0,a=e.split("");r<a.length;r++){var s=a[r];o.indexOf(s)>-1?i+=t.Random.choice(o):i+=t.Random.choice(n)}this.translations[e]=i}return this.translations[e]},e}();exports.Language=s,function(t){!function(t){t.Before="Before",t.After="After"}(t.Position||(t.Position={}))}(s=exports.Language||(exports.Language={})),exports.Language=s;
},{"./random":"iJlX"}],"u4WM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./random"),e=require("./idallocator"),o=require("./language"),i=function(){function i(i){this.id=e.IDAllocator.allocate("tribe"),this._population=i,this._migrationChance=1e-6,this._eventProgress={},this._relations={},this._technology=[],this._culture=[],this._name=[],this.attitudes=new r,this.attitudes.monolith=r.Monolith.Unencountered,this.dead=!1,this.attitudes.others=t.Random.choice([r.Others.Aggressive,r.Others.Defensive,r.Others.Diplomatic,r.Others.Insular]),this.attitudes.world=t.Random.choice([r.World.Exploit,r.World.Explore,r.World.Harmony,r.World.Survival]),this.attitudes.self=t.Random.choice([r.Self.Hierarchical,r.Self.Egalitarian]),this._language=new o.Language}return i.prototype.population=function(){return this._population},i.prototype.decreasePopulation=function(t){this._population-=t},i.prototype.increasePopulation=function(t){this._population+=t},i.prototype.grow=function(){this.population();for(var e=0,o=0,i=this.growthRate(),r=this.deathRate(),n=0;n<20;n++)t.Random.chance(i)&&(e+=Math.floor(.05*this.population())),t.Random.chance(r)&&(o+=Math.floor(.05*this.population()));this.increasePopulation(e),this.decreasePopulation(o)},i.prototype.split=function(t){for(var e=[],o=[],r=0,n=t;r<n.length;r++){var s=n[r];e.push(Math.floor(this._population*s))}for(var a=0,u=e.slice(1);a<u.length;a++){var h=new i(s=u[a]);h.attitudes.monolith=this.attitudes.monolith,h.attitudes.others=this.attitudes.others,h.attitudes.world=this.attitudes.world,h.attitudes.self=this.attitudes.self;for(var l=0,c=this._technology;l<c.length;l++){var p=c[l];h.addTechnology(p)}for(var d=0,g=this._culture;d<g.length;d++){var f=g[d];h.addCulture(f)}h.setMigrationChance(this._migrationChance),o.push(h)}return this._population=Math.floor(t[0]*this._population),o},i.prototype.relationship=function(t){return this._relations.hasOwnProperty(t.id)?this._relations[t.id]:0},i.prototype.changeRelationship=function(t,e){this._relations.hasOwnProperty(t.id)||(this._relations[t.id]=0),this._relations[t.id]+=e,console.log("Set relationship of "+this.id+" for "+t.id+" to "+this._relations[t.id]+".")},i.prototype.attack=function(){var t=0;return this.attitudes.others==r.Others.Aggressive&&(t+=1),this.hasTechnology("tools")&&(t+=1),t},i.prototype.defense=function(){var t=0;return this.attitudes.others==r.Others.Defensive&&(t+=1),this.hasTechnology("construction")&&(t+=1),t},i.prototype.migrate=function(){return t.Random.chance(this._migrationChance)},i.prototype.setMigrationChance=function(t){this._migrationChance=t},i.prototype.progress=function(t){return this._eventProgress[t.id]},i.prototype.increaseProgress=function(t,e){var o=0;this._eventProgress.hasOwnProperty(t.id)&&(o=this._eventProgress[t.id]),this._eventProgress[t.id]=o+e},i.prototype.resetProgress=function(t){this._eventProgress[t.id]=0},i.prototype.addTechnology=function(t){this._technology.indexOf(t)>-1||this._technology.push(t)},i.prototype.removeTechnology=function(t){var e=this._technology.indexOf(t);-1!=e&&this._technology.splice(e,1)},i.prototype.hasTechnology=function(t){return this._technology.indexOf(t)>-1},i.prototype.addCulture=function(t){this._culture.indexOf(t)>-1||this._culture.push(t)},i.prototype.removeCulture=function(t){var e=this._culture.indexOf(t);-1!=e&&this._culture.splice(e,1)},i.prototype.hasCulture=function(t){return this._culture.indexOf(t)>-1},i.prototype.title=function(){return 0==this._name.length?"a tribe":"the "+o.Language.toTitle(this._language.translate(this._name))},i.prototype.titleCapitalized=function(){return 0==this._name.length?"A tribe":"The "+o.Language.toTitle(this._language.translate(this._name))},i.prototype.setName=function(t){this._name=t},i.prototype.name=function(){return this._name},i.prototype.language=function(){return this._language},i.prototype.growthRate=function(){var t=1e-4;return this.hasTechnology("fire")&&(t*=4),this.hasTechnology("agriculture")&&(t*=4),t},i.prototype.deathRate=function(){return 1e-4},i}();exports.Tribe=i;var r=function(){function t(){}return t.MonolithString=function(e){switch(e){case t.Monolith.Unencountered:return"unencountered";case t.Monolith.Curious:return"curious";case t.Monolith.Superstitious:return"superstitious";case t.Monolith.Fearful:return"fearful"}},t.OthersString=function(e){switch(e){case t.Others.Aggressive:return"aggressive";case t.Others.Defensive:return"defensive";case t.Others.Diplomatic:return"diplomatic";case t.Others.Insular:return"insular"}},t.WorldString=function(e){switch(e){case t.World.Exploit:return"exploitative";case t.World.Explore:return"explorative";case t.World.Harmony:return"harmonious";case t.World.Survival:return"survivalists"}},t.SelfString=function(e){switch(e){case t.Self.Hierarchical:return"hierarchical";case t.Self.Egalitarian:return"egalitarian"}},t.prototype.monolithString=function(){return t.MonolithString(this.monolith)},t.prototype.othersString=function(){return t.OthersString(this.others)},t.prototype.worldString=function(){return t.WorldString(this.world)},t.prototype.selfString=function(){return t.SelfString(this.self)},t}();exports.Attitudes=r,function(t){!function(t){t.Unencountered="unencountered",t.Curious="curious",t.Superstitious="superstitious",t.Fearful="fearful"}(t.Monolith||(t.Monolith={})),function(t){t.Aggressive="aggressive",t.Defensive="defensive",t.Diplomatic="diplomatic",t.Insular="insular"}(t.Others||(t.Others={})),function(t){t.Exploit="exploit",t.Explore="explore",t.Harmony="harmony",t.Survival="survival"}(t.World||(t.World={})),function(t){t.Hierarchical="hierarchical",t.Egalitarian="egalitarian"}(t.Self||(t.Self={}))}(r=exports.Attitudes||(exports.Attitudes={})),exports.Attitudes=r;
},{"./random":"iJlX","./idallocator":"oXG4","./language":"azeZ"}],"TwuV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./random"),t=require("./tribe"),o=function(){function o(){}return o.triggers=function(t,o,n){return!(!t.hasTechnology("fire")||!t.hasTechnology("construction"))&&(t.hasCulture("cautious")?e.Random.chance(1e-6):e.Random.chance(3e-5))},o.progress=function(e,t){return 0},o.isChoice=function(){return!0},o.choices=function(e){return["They are being punished.","This is a learning experience."]},o.choicePrompt=function(e){return"One day, while a member of "+e.title()+" is cooking with fire, the roof of their home\n    catches alight. Before long, multiple buildings are in flames. The tribespeople desperately try\n    to put out the fire, and succeed, but not before it has caused significant damage."},o.outcomeMessages=function(e,t){return["The tribe sees this as a punishment, but for what, they are not sure.","The tribe has suffered heavy losses, but finds the strength to continue, and learn how to control the fire better."]},o.outcomeFunctions=function(o,n){return[function(){e.Random.chance(.2)?o.attitudes.monolith=t.Attitudes.Monolith.Superstitious:o.attitudes.monolith=t.Attitudes.Monolith.Fearful,o.addCulture("disastersArePunishment");var n=o.population(),i=Math.floor(.3*n),r=Math.floor(.7*n);o.decreasePopulation(e.Random.interval(i,r)),console.log("New population: "+o.population())},function(){e.Random.chance(.5)?o.attitudes.monolith=t.Attitudes.Monolith.Curious:o.attitudes.monolith=t.Attitudes.Monolith.Fearful;var n=o.population(),i=Math.floor(.3*n),r=Math.floor(.7*n);o.decreasePopulation(e.Random.interval(i,r)),o.addCulture("cautious"),console.log("New population: "+o.population())}]},o.id="FireSpreadsEvent",o}();exports.FireSpreadsEvent=o;var n=function(){function o(){}return o.triggers=function(t,o,n){if(!t.hasTechnology("agriculture"))return!1;switch(o.water()){case 0:return e.Random.chance(5e-4);case 1:return e.Random.chance(1e-4);case 2:return e.Random.chance(5e-5);default:return!1}},o.progress=function(e,t){return 0},o.isChoice=function(){return!0},o.choices=function(e){return["They are being punished.","They must leave this barren place.","They must abandon their farms and hunt for food instead."]},o.choicePrompt=function(e){return"There have not been any rains in the region for some time, and the crops\n    of "+e.title()+" are suffering for it. It looks as though there will not be a harvest this year."},o.outcomeMessages=function(e,t){var o=[];return e.hasCulture("disastersArePunishment")?o.push("The tribe sees this as a sign of your displeasure.\n        They begin praying in the hope that it will alleviate the drought,\n        but it does not."):o.push("The tribe sees this as some kind of punishment, but for what, they are not sure."),o.push("The tribe moves on from the region, leaving their farms behind."),o.push("The tribe abandons agriculture, and transitions back to a hunter-gatherer society."),o},o.outcomeFunctions=function(o,n){return[function(){e.Random.chance(.2)?o.attitudes.monolith=t.Attitudes.Monolith.Superstitious:o.attitudes.monolith=t.Attitudes.Monolith.Fearful,o.addCulture("disastersArePunishment");var n=o.population(),i=Math.floor(.6*n),r=Math.floor(.9*n);o.decreasePopulation(e.Random.interval(i,r)),console.log("New population: "+o.population())},function(){var t=n.nearby(),i=e.Random.choice(t);n.removeTribe(o),i.addTribe(o);var r=o.population(),a=Math.floor(.6*r),u=Math.floor(.9*r);o.decreasePopulation(e.Random.interval(a,u)),console.log("New population: "+o.population())},function(){o.addCulture("abandonedAgriculture"),o.removeTechnology("agriculture");var t=o.population(),n=Math.floor(.6*t),i=Math.floor(.9*t);o.decreasePopulation(e.Random.interval(n,i)),console.log("New population: "+o.population())}]},o.id="DroughtEvent",o}();exports.DroughtEvent=n;var i=function(){function o(){}return o.triggers=function(t,o,n){return!t.hasTechnology("vaccines")&&(!(t.population()<1e3)&&(t.hasTechnology("medicine")?e.Random.chance(.001):e.Random.chance(.005)))},o.progress=function(e,t){return 0},o.isChoice=function(){return!1},o.choices=function(e){return[]},o.choicePrompt=function(e){return""},o.outcomeMessages=function(e,o){var n="With the population of "+e.title()+" growing rapidly, disease is commonplace in their settlement.\n        Before long, a plague spreads among the tribespeople, killing a significant number of them.";return e.hasCulture("disastersArePunishment")?n+=" Many in the tribe see this as a punishment for their sins, and pray to you for forgiveness.":e.attitudes.monolith==t.Attitudes.Monolith.Curious&&(n+=" Some of the tribespeople are committed to finding a way to avoid plagues like this in the future."),[n]},o.outcomeFunctions=function(o,n){return[function(){var n=o.population(),i=Math.floor(.7*n),r=Math.floor(.95*n);o.decreasePopulation(e.Random.interval(i,r)),console.log("New population: "+o.population()),o.attitudes.monolith==t.Attitudes.Monolith.Curious&&o.addCulture("earlyScientists")}]},o.id="PlagueEvent",o}();exports.PlagueEvent=i;
},{"./random":"iJlX","./tribe":"u4WM"}],"I3dR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./random"),t=function(){function t(){this.hasMonolith=!1,this._tribes=[],this._nearbyRegions=[],this._structures=[];var r=e.Random.interval(0,6);switch(this._type=t.Type.Undefined,r){case 0:this._type=t.Type.Desert;break;case 1:this._type=t.Type.Grassland;break;case 2:this._type=t.Type.Hills;break;case 3:this._type=t.Type.Mountains;break;case 4:this._type=t.Type.Tundra;break;case 5:this._type=t.Type.Valley;break;case 6:this._type=t.Type.Rainforest}this._food=e.Random.interval(2,4),this._water=e.Random.interval(2,4),this._resources=e.Random.interval(2,4)}return t.prototype.levelString=function(e){switch(e){case 0:return"no";case 1:return"scarce";case 2:return"barely adequate";case 3:return"adequate";case 4:return"sufficient";case 5:return"plentiful";case 6:return"abundant"}return"INVALID"},t.prototype.type=function(){return this._type},t.prototype.typeString=function(){return t.Type[this._type]},t.prototype.typeStringLowercase=function(){switch(this._type){case t.Type.Desert:return"desert";case t.Type.Grassland:return"grassland";case t.Type.Hills:return"hills";case t.Type.Mountains:return"mountains";case t.Type.Tundra:return"tundra";case t.Type.Valley:return"valley";case t.Type.Rainforest:return"rainforest";case t.Type.Undefined:return"UNDEFINED"}},t.prototype.typeDescription=function(){switch(this._type){case t.Type.Desert:return"desert";case t.Type.Grassland:return"grassland";case t.Type.Hills:return"hilly";case t.Type.Mountains:return"mountainous";case t.Type.Tundra:return"tundra";case t.Type.Valley:return"valley";case t.Type.Rainforest:return"rainforest";case t.Type.Undefined:return"UNDEFINED"}},t.prototype.food=function(){switch(this._type){case t.Type.Desert:return this._food-1;case t.Type.Grassland:return this._food+1;case t.Type.Hills:return this._food;case t.Type.Mountains:return this._food-2;case t.Type.Tundra:return this._food-1;case t.Type.Valley:return this._food+1;case t.Type.Rainforest:return this._food+2;case t.Type.Undefined:return 0}},t.prototype.foodString=function(){return this.levelString(this.food())},t.prototype.water=function(){switch(this._type){case t.Type.Desert:return this._water-2;case t.Type.Grassland:return this._water;case t.Type.Hills:return this._water+1;case t.Type.Mountains:case t.Type.Tundra:return this._water-1;case t.Type.Valley:return this._water+2;case t.Type.Rainforest:return this._water;case t.Type.Undefined:return 0}},t.prototype.waterString=function(){return this.levelString(this.water())},t.prototype.resources=function(){switch(this._type){case t.Type.Desert:return this._resources+1;case t.Type.Grassland:return this._resources-2;case t.Type.Hills:return this._resources+1;case t.Type.Mountains:return this._resources+2;case t.Type.Tundra:return this._resources;case t.Type.Valley:return this._resources-1;case t.Type.Rainforest:return this._resources;case t.Type.Undefined:return 0}},t.prototype.resourcesString=function(){return this.levelString(this.resources())},t.prototype.tribesCount=function(){return this._tribes.length},t.prototype.tribes=function(){return this._tribes},t.prototype.population=function(){for(var e=0,t=0,r=this._tribes;t<r.length;t++){e+=r[t].population()}return e},t.prototype.addTribe=function(e){this._tribes.push(e)},t.prototype.removeTribe=function(e){var t=this._tribes.indexOf(e);t>=0&&this._tribes.splice(t,1)},t.prototype.addNearbyRegion=function(e){this._nearbyRegions.indexOf(e)>-1||(this._nearbyRegions.push(e),e.addNearbyRegion(this))},t.prototype.nearby=function(){return this._nearbyRegions},t.prototype.addStructure=function(e){this._structures.indexOf(e)>-1||this._structures.push(e)},t.prototype.hasStructure=function(e){return this._structures.indexOf(e)>-1},t}();exports.Region=t,function(e){!function(e){e.Desert="Desert",e.Grassland="Grassland",e.Hills="Hills",e.Mountains="Mountains",e.Tundra="Tundra",e.Valley="Valley",e.Rainforest="Rainforest",e.Undefined="Undefined"}(e.Type||(e.Type={}))}(t=exports.Region||(exports.Region={})),exports.Region=t;
},{"./random":"iJlX"}],"ZWaP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./random"),e=require("./tribe"),o=require("./region"),n=require("./language"),i=function(){function n(){}return n.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("fire"))return!1;if(o.hasCulture("afraidOfFire"))return!1;var r=1e-6;return o.attitudes.monolith==e.Attitudes.Monolith.Curious&&(r=2e-6),t.Random.progressiveChance(r,i,.005)},n.progress=function(n,i){return n.hasTechnology("fire")?0:n.hasCulture("afraidOfFire")?0:n.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:i.type()==o.Region.Type.Desert?t.Random.interval(0,3):t.Random.interval(-1,2)},n.isChoice=function(){return!0},n.choices=function(t){return["Fire is useful.","Fire is dangerous."]},n.choicePrompt=function(t){return"While wandering on a hot, dry day, a member of "+t.title()+" notices food left in the wake of a wildfire.\n        Noticing that the food seems firmer and smells different, the tribesperson brings it back to show the others."},n.outcomeMessages=function(t,e){return["The tribe is curious about the possible uses of this phenomenon. Some begin using it to cook their food,\n            while others use it to provide light at night.","The tribe is afraid of this phenomenon. They avoid it, not understanding the benefits it could bring."]},n.outcomeFunctions=function(o,n){return[function(){o.addTechnology("fire"),t.Random.chance(.1)&&(o.attitudes.monolith=e.Attitudes.Monolith.Curious),console.log(o.title()+" has discovered fire.")},function(){o.addCulture("afraidOfFire"),t.Random.chance(.1)&&(o.attitudes.monolith=e.Attitudes.Monolith.Fearful),console.log(o.title()+" has shunned fire.")}]},n.id="DiscoverFireEvent",n}();exports.DiscoverFireEvent=i;var r=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("tools"))return!1;var r=1e-6;return o.attitudes.monolith==e.Attitudes.Monolith.Curious&&(r=2e-6),t.Random.progressiveChance(r,i,.005)},o.progress=function(o,n){return o.hasTechnology("tools")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:n.resources()>2?t.Random.interval(0,3):t.Random.interval(-1,2)},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return["A small group from "+t.title()+" have developed simple stone tools to aid them in their daily lives.\n            They show the rest of their tribe, and the tools quickly catch on, with the tribe using them to enhance\n            their abilities."]},o.outcomeFunctions=function(t,e){return[function(){t.addTechnology("tools"),console.log(t.title()+" has discovered tools.")}]},o.id="DiscoverToolsEvent",o}();exports.DiscoverToolsEvent=r;var u=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(!o.hasTechnology("tools"))return!1;if(o.hasTechnology("construction"))return!1;var r=1e-6;return o.attitudes.others==e.Attitudes.Others.Defensive&&(r=2e-6),t.Random.progressiveChance(r,i,.005)},o.progress=function(o,n){return o.hasTechnology("tools")?o.hasTechnology("construction")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:n.resources()>0?t.Random.interval(0,1):0:0},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return[t.titleCapitalized()+" has begun using stone and wood, along with their tools, to construct\n            simple buildings in which to live and store food."]},o.outcomeFunctions=function(t,e){return[function(){t.addTechnology("construction"),t.setMigrationChance(0),console.log(t.title()+" has discovered construction.")}]},o.id="DiscoverConstructionEvent",o}();exports.DiscoverConstructionEvent=u;var s=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("language"))return!1;if(o.population()<80)return!1;var r=1e-6;return o.attitudes.others==e.Attitudes.Others.Diplomatic&&(r=2e-6),t.Random.progressiveChance(r,i,.01)},o.progress=function(o,n){return o.hasTechnology("language")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:o.population()<80?0:t.Random.interval(0,3)},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return o.tribeName=o.generateTribeName(t,e),["You notice that a tribe seems to be using a more advanced form of communication.\n            As your language coprocessor engages, you discover that they now call themselves the\n            "+n.Language.toTitle(t.language().translate(o.tribeName))+"."]},o.outcomeFunctions=function(t,e){var n=o.tribeName;return[function(){t.addTechnology("language"),t.setName(n),console.log("A tribe has discovered language.")}]},o.generateTribeName=function(t,o){var i=[],r="";return t.attitudes.monolith==e.Attitudes.Monolith.Superstitious?r="devout":t.attitudes.monolith==e.Attitudes.Monolith.Curious?r="curious":t.attitudes.monolith==e.Attitudes.Monolith.Fearful&&(r="fearful"),t.attitudes.others==e.Attitudes.Others.Aggressive?i.push(new n.Noun("warrior",!0,!1,[r])):t.attitudes.world==e.Attitudes.World.Explore?i.push(new n.Noun("explorer",!0,!1,[r])):t.attitudes.self==e.Attitudes.Self.Egalitarian?i.push(new n.Noun("community",!1,!1,[r])):i.push(new n.Noun("person",!0,!1,[r])),i},o.id="DiscoverLanguageEvent",o}();exports.DiscoverLanguageEvent=s;var a=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("agriculture"))return!1;if(o.population()<200)return!1;if(!o.hasTechnology("tools"))return!1;if(o.hasCulture("abandonedAgriculture"))return!1;var r=1e-6;return n.food()>4?r=5e-6:n.food()>2&&(r=2e-6),t.Random.progressiveChance(r,i,.01)},o.progress=function(o,n){return o.hasTechnology("agriculture")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:o.population()<200?0:o.hasTechnology("tools")?o.hasCulture("abandonedAgriculture")?0:n.food()>4?t.Random.interval(1,5):n.food()>2?t.Random.interval(-1,4):t.Random.interval(-2,3):0},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return["A handful of members of "+t.title()+" seem to have stopped hunting or gathering,\n            and instead have begun collecting wild seeds and planting them. After the first harvest,\n            this new method of producing food is adopted by the whole tribe."]},o.outcomeFunctions=function(t,e){return[function(){t.addTechnology("agriculture"),console.log("A tribe has discovered agriculture.")}]},o.id="DiscoverAgricultureEvent",o}();exports.DiscoverAgricultureEvent=a;
},{"./random":"iJlX","./tribe":"u4WM","./region":"I3dR","./language":"azeZ"}],"MNAu":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./tribe"),o=require("./random"),n=require("./language"),i=e(require("./tribe_events_disasters")),r=e(require("./tribe_events_discovery")),a=function(){function e(){}return e.triggers=function(e,o,n){return e.attitudes.monolith==t.Attitudes.Monolith.Unencountered&&!!o.hasMonolith},e.progress=function(e,t){return 0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(n,i){switch(o.Random.interval(0,2)){case 0:e.newAttitude=t.Attitudes.Monolith.Curious;break;case 1:e.newAttitude=t.Attitudes.Monolith.Superstitious;break;case 2:e.newAttitude=t.Attitudes.Monolith.Fearful}return["You encounter a tribe of "+n.population()+" people.\n    They are "+n.attitudes.othersString()+", "+n.attitudes.worldString()+",\n    and "+n.attitudes.selfString()+".\n    They seem "+t.Attitudes.MonolithString(e.newAttitude)+" towards you."]},e.outcomeFunctions=function(o,n){var i=e.newAttitude;return[function(){o.attitudes.monolith=i,console.log("Direct encounter: set tribe attitude to "+t.Attitudes.MonolithString(i))}]},e.id="EncounterEvent",e}(),s=function(){function e(){}return e.triggers=function(e,o,n){return e.attitudes.monolith==t.Attitudes.Monolith.Unencountered&&o.tribes().filter(function(o,n,i){return o!=e&&o.attitudes.monolith!=t.Attitudes.Monolith.Unencountered}).length>0},e.progress=function(e,t){return 0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(n,i){var r=i.tribes().filter(function(e,o,i){return e!=n&&e.attitudes.monolith!=t.Attitudes.Monolith.Unencountered});e.otherTribe=o.Random.choice(r);var a=t.Attitudes.MonolithString(e.otherTribe.attitudes.monolith);return[n.titleCapitalized()+" has encountered a new tribe of "+n.population()+" people.\n    After hearing of you, they seem "+a+"."]},e.outcomeFunctions=function(o,n){var i=e.otherTribe.attitudes.monolith;return[function(){o.attitudes.monolith=i,console.log("Indirect encounter: set "+o.title()+" attitude to "+t.Attitudes.MonolithString(i))}]},e.id="IndirectEncounterEvent",e}(),u=function(){function e(){}return e.triggers=function(e,t,o){return e.population()<=0},e.progress=function(e,t){return 0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(e,o){return e.attitudes.monolith==t.Attitudes.Monolith.Unencountered?[""]:["You sense a great loss. "+e.titleCapitalized()+" is no more."]},e.outcomeFunctions=function(e,t){return[function(){e.dead=!0,console.log(e.title()+" has died.")}]},e.id="TribeDestroyedEvent",e}(),h=function(){function e(){}return e.triggers=function(n,i,r){var a=1e-4;n.attitudes.others==t.Attitudes.Others.Aggressive&&(a=2e-4);var s=i.tribes().filter(function(e,t,o){return e!=n});return n.attitudes.others==t.Attitudes.Others.Defensive?s=s.filter(function(e,t,o){return n.relationship(e)<=-1}):n.attitudes.others!=t.Attitudes.Others.Aggressive&&(s=s.filter(function(e,t,o){return n.relationship(e)<=-2})),0!=s.length&&(!!o.Random.chance(a)&&(e.defender=o.Random.choice(s),!0))},e.progress=function(e,t){return 0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(n,i){var r,a=n,s=(o.Random.interval(1,10)+a.attack())*Math.floor(.1*a.population()),u=(o.Random.interval(1,10)+e.defender.defense())*Math.floor(.1*e.defender.population());if(e.outcome=s-u,a.attitudes.monolith==t.Attitudes.Monolith.Unencountered&&e.defender.attitudes.monolith==t.Attitudes.Monolith.Unencountered)return[""];var h="";if(e.outcome>0){var l=Math.min(e.defender.population(),e.outcome);r="The attack was successful.",h=l==e.defender.population()?"The defenders have been wiped out.":"The defenders have lost "+l+" people in the attack."}else if(e.outcome<0){var c=Math.min(a.population(),-e.outcome);r="The attack was repulsed.",h=c==a.population()?"The attackers have been wiped out.":"The attackers have lost "+c+" people in the attack."}else r="The attack ended in a stalemate.";return[a.titleCapitalized()+" has attacked "+e.defender.title()+".\n    "+r+"\n    "+h]},e.outcomeFunctions=function(t,o){var n=e.defender,i=e.outcome;return i>0?[function(){console.log("attack: success ("+i+")"),n.decreasePopulation(i),t.increasePopulation(Math.floor(i/2))}]:i<0?[function(){console.log("attack: failure ("+i+")"),t.decreasePopulation(-i)}]:[function(){console.log("attack: stalemate")}]},e.id="AttackEvent",e}(),l=function(){function e(){}return e.triggers=function(e,t,o){return e.migrate()},e.progress=function(e,t){return 0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(n,i){var r=i.nearby();return e.migrateRegion=o.Random.choice(r),n.attitudes.monolith!=t.Attitudes.Monolith.Unencountered?[n.titleCapitalized()+" has migrated from a "+i.typeDescription()+" region to\n        a "+e.migrateRegion.typeDescription()+" region."]:[""]},e.outcomeFunctions=function(t,o){var n=e.migrateRegion;return[function(){o.removeTribe(t),n.addTribe(t),console.log(t.title()+" has migrated from "+o.typeString()+" to "+n.typeString()+".")}]},e.id="MigrationEvent",e}(),c=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith==t.Attitudes.Monolith.Superstitious&&(!!n.hasMonolith&&(!e.hasCulture("worshipsMonolith")&&o.Random.progressiveChance(1e-4,i,.1)))},e.progress=function(e,t){return o.Random.interval(0,2)},e.isChoice=function(){return!0},e.choices=function(e){return["I am not their god.","I am their god, and I am good.","I am their god, and they should fear me."]},e.choicePrompt=function(e){return e.titleCapitalized()+" has taken a great interest in you. Tribe members regularly visit you, bringing\n    small offerings and prostrating themselves at your base. It becomes obvious that this is a form of primitive worship."},e.outcomeMessages=function(e,t){return["The tribe is confused, but seems to accept the fact that you are not a supernatural being.","The tribe rejoices, pleased to have your approval. The visits become more frequent.","The tribe is terrified of you, and while they begin bringing larger offerings, it is clear that the reasons\n      for their reverance have changed."]},e.outcomeFunctions=function(e,n){return[function(){if(o.Random.chance(.5))e.attitudes.monolith=t.Attitudes.Monolith.Curious;else{var i=n.nearby(),r=o.Random.choice(i);n.removeTribe(e),r.addTribe(e)}},function(){e.attitudes.monolith=t.Attitudes.Monolith.Superstitious,e.addCulture("worshipsMonolith"),e.setMigrationChance(0)},function(){e.attitudes.monolith=t.Attitudes.Monolith.Fearful,e.addCulture("worshipsMonolith"),e.addCulture("fearsMonolith")}]},e.id="TribeWorshipsMonolithEvent",e}(),d=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith==t.Attitudes.Monolith.Curious&&(!!n.hasMonolith&&(!e.hasCulture("curiousOfMonolith")&&o.Random.progressiveChance(1e-4,i,.1)))},e.progress=function(e,t){return o.Random.interval(0,2)},e.isChoice=function(){return!0},e.choices=function(e){return["I am merely a machine.","They should not be so curious."]},e.choicePrompt=function(e){return"You notice that members of "+e.title()+" have been observing you cautiously since your landing.\n    Every now and then some of them visit you, studying your metal exterior. They are obviously wondering what\n    exactly you are."},e.outcomeMessages=function(e,t){return["The tribe doesn't understand, but seems even more curious about you now.","The tribe is afraid, and stops visiting you."]},e.outcomeFunctions=function(e,o){return[function(){e.addCulture("curiousOfMonolith")},function(){e.attitudes.monolith=t.Attitudes.Monolith.Fearful}]},e.id="TribeCuriousOfMonolithEvent",e}(),f=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith==t.Attitudes.Monolith.Fearful&&(!!n.hasMonolith&&(!e.hasCulture("fearsMonolith")&&o.Random.progressiveChance(1e-4,i,.1)))},e.progress=function(e,t){return o.Random.interval(0,2)},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(e,t){return["Members of "+e.title()+" are taking turns observing you while the rest of the tribe\n      sleeps. They are very clearly afraid of you."]},e.outcomeFunctions=function(e,t){return[function(){e.addCulture("fearsMonolith")}]},e.id="TribeFearsMonolithEvent",e}(),g=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith==t.Attitudes.Monolith.Curious&&(!!n.hasMonolith&&(!!e.hasCulture("curiousOfMonolith")&&(!!e.hasTechnology("language")&&(!e.hasCulture("touchedByAliens")&&(!e.hasCulture("acceptsMonolith")&&o.Random.progressiveChance(1e-5,i,.05))))))},e.progress=function(e,o){return e.attitudes.monolith!=t.Attitudes.Monolith.Curious?0:o.hasMonolith&&e.hasCulture("curiousOfMonolith")&&e.hasTechnology("language")?e.hasCulture("touchedByAliens")?0:e.hasCulture("acceptsMonolith")?0:1:0},e.isChoice=function(){return!0},e.choices=function(e){return["I came from another world.","I am merely a machine.","I am a part of this world."]},e.choicePrompt=function(e){return"One day a strange thing happens. A single member of "+e.title()+' approaches\n    you, and kneels at your base. They place one hand on your metal exterior, and then ask you a question:\n    "What are you, great stone?"'},e.outcomeMessages=function(e,t){return["The tribesperson is confused, as they do not know that there are other worlds like this one.\n      However, your interaction seems to plant a seed in their mind, as they consider what you just told them.","The tribesperson seems to understand - you are like their tools and buildings, only different.","The tribesperson seems to understand - you are a natural formation, like the trees and stones around them."]},e.outcomeFunctions=function(e,t){return[function(){e.addCulture("touchedByAliens")},function(){e.addCulture("acceptsMonolith")},function(){e.addCulture("acceptsMonolith")}]},e.id="TribeAsksMonolithPurposeEvent",e}(),p=function(){function e(){}return e.triggers=function(t,n,i){return!!n.hasMonolith&&(!!t.hasCulture("worshipsMonolith")&&(!!t.hasTechnology("construction")&&(!e.triggered&&(!!o.Random.progressiveChance(1e-5,i,.05)&&(e.triggered=!0,!0)))))},e.progress=function(t,o){return o.hasMonolith&&t.hasCulture("worshipsMonolith")&&t.hasTechnology("construction")?e.triggered?0:1:0},e.isChoice=function(){return!0},e.choices=function(e){return["I am not worthy of their worship.","They are right to revere me."]},e.choicePrompt=function(e){return"You notice that members of "+e.title()+" have begun bringing construction equipment and materials to you.\n    Before long a handful of standing stones, obviously fashioned in your image, surrounds the rim of the crater where you\n    have landed."},e.outcomeMessages=function(e,t){return["The tribe is confused, as you had told them you were their god.\n      They are worried that building the temple has disturbed you,\n      and leave your landing site in peace, with the temple only half-finished.","The tribe continues constructing the temple, celebrating once it is finished."]},e.outcomeFunctions=function(e,t){return[function(){t.addStructure("partialMonolithTemple");var n=t.nearby(),i=o.Random.choice(n);t.removeTribe(e),i.addTribe(e)},function(){e.addCulture("celebratesMonolith"),e.addCulture("templeBuilders"),t.addStructure("monolithTemple")}]},e.id="TribeBuildsTempleEvent",e.triggered=!1,e}(),m=function(){function e(){}return e.triggers=function(n,i,r){return n.attitudes.monolith==t.Attitudes.Monolith.Fearful&&(!!i.hasMonolith&&(!!n.hasCulture("fearsMonolith")&&(!!n.hasTechnology("tools")&&(!i.hasStructure("damagedMonolith")&&(!e.triggered&&(!!o.Random.progressiveChance(1e-5,r,.01)&&(e.triggered=!0,!0)))))))},e.progress=function(o,n){return o.attitudes.monolith!=t.Attitudes.Monolith.Fearful?0:n.hasMonolith&&o.hasCulture("fearsMonolith")&&o.hasTechnology("tools")?n.hasStructure("damagedMonolith")?0:e.triggered?0:1:0},e.isChoice=function(){return!0},e.choices=function(e){return["They will pay for this.","I am not a threat to them."]},e.choicePrompt=function(e){return"A large group of people from "+e.title()+" have gathered around you.\n    Many of them are carrying large stone hammers, or even simply rocks. They begin to attack\n    your metal exterior with them. You are helpless to respond as they make dents in your surface.\n    Once the attack is over, you find that you are thankfully not seriously damaged."},e.outcomeMessages=function(e,t){return["Other tribes in the area seem angry at them for attacking you.","The tribe realises that you are not here to harm them, as otherwise you would have responded to their attack.\n      They still seem afraid, but begin to wonder why you are here."]},e.outcomeFunctions=function(e,o){var n=o.tribes().filter(function(o,n,i){return o!=e&&o.attitudes.monolith!=t.Attitudes.Monolith.Fearful});return[function(){for(var t=0,i=n;t<i.length;t++){i[t].changeRelationship(e,-2)}o.addStructure("damagedMonolith")},function(){e.attitudes.monolith=t.Attitudes.Monolith.Curious,o.addStructure("damagedMonolith")}]},e.id="TribeAttacksMonolithEvent",e.triggered=!1,e}(),y=function(){function e(){}return e.triggers=function(n,i,r){return n.attitudes.monolith==t.Attitudes.Monolith.Curious&&(!!i.hasMonolith&&(!!n.hasCulture("curiousOfMonolith")&&(!!n.hasTechnology("construction")&&(!!i.hasStructure("damagedMonolith")&&(!i.hasStructure("rebuiltMonolith")&&(!e.triggered&&(!!o.Random.progressiveChance(1e-5,r,.01)&&(e.triggered=!0,!0))))))))},e.progress=function(o,n){return o.attitudes.monolith!=t.Attitudes.Monolith.Curious?0:n.hasMonolith&&o.hasCulture("curiousOfMonolith")&&o.hasTechnology("construction")&&n.hasStructure("damagedMonolith")?n.hasStructure("rebuiltMonolith")?0:e.triggered?0:1:0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(e,t){return[e.titleCapitalized()+" have begun bringing stone slabs and wooden planks to your\n    landing site. Before long a group of tribespeople are using stone tools to erect a shell\n    around the parts of your surface that were dented in the attack. They seem unhappy to have seen you\n    damaged."]},e.outcomeFunctions=function(e,t){return[function(){t.addStructure("rebuiltMonolith")}]},e.id="TribeRebuildsMonolithEvent",e.triggered=!1,e}(),b=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith!=t.Attitudes.Monolith.Unencountered&&(!!e.hasTechnology("language")&&(!!e.hasTechnology("agriculture")&&(!e.hasCulture("stories")&&o.Random.progressiveChance(1e-5,i,.005))))},e.progress=function(e,n){return e.attitudes.monolith==t.Attitudes.Monolith.Unencountered?0:e.hasTechnology("language")&&e.hasTechnology("agriculture")?e.hasCulture("stories")?0:o.Random.interval(0,3):0},e.isChoice=function(){return!1},e.choices=function(e){return[]},e.choicePrompt=function(e){return""},e.outcomeMessages=function(e,o){var n="";switch(e.attitudes.others){case t.Attitudes.Others.Aggressive:n="heroes of war";break;case t.Attitudes.Others.Defensive:n="defenders of their people";break;case t.Attitudes.Others.Diplomatic:n="friendship with other tribes";break;case t.Attitudes.Others.Insular:n="fear of other tribes"}var i="";switch(e.attitudes.world){case t.Attitudes.World.Exploit:i="exploitation of their environment";break;case t.Attitudes.World.Explore:i="exploration of the unknown";break;case t.Attitudes.World.Harmony:i="living in harmony with nature";break;case t.Attitudes.World.Survival:i="surviving in their dangerous environment"}var r="";switch(e.attitudes.self){case t.Attitudes.Self.Hierarchical:r="their rightful rulers";break;case t.Attitudes.Self.Egalitarian:r="their egalitarian society"}var a="";switch(e.attitudes.monolith){case t.Attitudes.Monolith.Curious:a="their curiosity about the Great Stone";break;case t.Attitudes.Monolith.Superstitious:a="their reverance of the Great Stone";break;case t.Attitudes.Monolith.Fearful:a="their fear of the Great Stone"}return[e.titleCapitalized()+" has begun telling stories in the evenings once all their\n      work for the day is done. The major themes of their stories are "+n+", "+i+",\n      "+r+", and "+a+"."]},e.outcomeFunctions=function(e,t){return[function(){e.addCulture("stories"),console.log(e.title()+" has begun writing stories.")}]},e.id="FirstStoriesEvent",e}(),v=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith!=t.Attitudes.Monolith.Unencountered&&(!!e.hasCulture("stories")&&(!(e.population()<400)&&(!e.hasCulture("oralHistory")&&(!e.hasCulture("noHistory")&&o.Random.progressiveChance(1e-5,i,.005)))))},e.progress=function(e,n){return e.attitudes.monolith==t.Attitudes.Monolith.Unencountered?0:e.hasCulture("stories")?e.population()<400?0:e.hasCulture("oralHistory")?0:e.hasCulture("noHistory")?0:o.Random.interval(0,3):0},e.isChoice=function(){return!0},e.choices=function(e){return["The past is not important.","The past should be remembered."]},e.choicePrompt=function(e){return"The simple stories of "+e.title()+" have evolved into more complex tales,\n    often depicting events that occurred in the tribe's past. These tales\n    form an oral history through which the tribe remembers its origins."},e.outcomeMessages=function(e,t){return["The tribe is not interested in the past, and the tales reflect this, no longer emphasising the\n      tribe's history.","The tales become a central part of the tribe's culture, with all members gathering regularly\n      to hear about the events of the past."]},e.outcomeFunctions=function(e,t){return[function(){e.addCulture("noHistory"),console.log(e.title()+" rejects oral history.")},function(){e.addCulture("oralHistory"),console.log(e.title()+" has begun oral history.")}]},e.id="OralHistoryEvent",e}(),w=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith==t.Attitudes.Monolith.Superstitious&&(!!e.hasCulture("noHistory")&&(!!e.hasCulture("worshipsMonolith")&&(!e.hasCulture("priestsRule")&&o.Random.progressiveChance(1e-5,i,.005))))},e.progress=function(e,n){return e.attitudes.monolith!=t.Attitudes.Monolith.Superstitious?0:e.hasCulture("noHistory")&&e.hasCulture("worshipsMonolith")?e.hasCulture("priestsRule")?0:o.Random.interval(0,3):0},e.isChoice=function(){return!0},e.choices=function(e){return["The priests do not speak for me.","The priests are my messengers."]},e.choicePrompt=function(e){return"A priestly class has developed in "+e.title()+", with a select group of priests\n    claiming to be your messengers and acting in accordance with your will. The priests use stories\n    and myths to influence the other tribespeople, who, without any understanding of their history,\n    have no reason not to believe them."},e.outcomeMessages=function(e,t){return["The priests convince the rest of the tribe that your displeasure is the result of some\n      wrongdoing on their part. Before long, the tribespeople are desperate for the guidance of their\n      religious leaders, who are all too happy to oblige.","With your blessing, the priests continue their rule over the other tribespeople."]},e.outcomeFunctions=function(e,o){return[function(){e.addCulture("priestsRule"),e.attitudes.self=t.Attitudes.Self.Hierarchical},function(){e.addCulture("priestsRule"),e.attitudes.self=t.Attitudes.Self.Hierarchical}]},e.id="PriestClassEvent",e}(),M=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.monolith!=t.Attitudes.Monolith.Unencountered&&(e.attitudes.others==t.Attitudes.Others.Insular&&(e.attitudes.world!=t.Attitudes.World.Explore&&(!e.hasCulture("noOutsideContact")&&o.Random.chance(5e-4))))},e.progress=function(e,t){return 0},e.isChoice=function(){return!0},e.choices=function(e){return["They should not be allowed to leave.","They can explore the world if they wish."]},e.choicePrompt=function(e){return"A small group from "+e.title()+" are unhappy with the tribe's insular nature,\n    and have decided they want to break away and form their own tribe. Many of the other tribe members\n    are unhappy with the group's choice, fearing that they will come to harm if they leave."},e.outcomeMessages=function(t,i){var r=[];if(t.name().length>0){var a="";switch(o.Random.interval(0,4)){case 0:a="exile";break;case 1:a="fugitive";break;case 2:a="displaced";break;case 3:a="rejected";break;case 4:a="outcast"}for(var s=0,u=t.name();s<u.length;s++){var h=u[s];r.push(new n.Noun(h.base,h.plural,!0,h.adjectives))}r=[new n.Noun(a,!0,!1,[])].concat(r)}return e.newTribeName=r,r.length>0?["The small group is forced to stay against their will. Knowing that there is no way to overpower the\n        will of the others, they resign themselves to life in the tribe. The tribe avoids contact with the outside world,\n        fearing that otherwise this will happen again.","The rest of the tribe is unhappy, but ultimately willing to let the group forge their own path.\n        The new tribe calls themselves "+n.Language.toTitle(t.language().translate(r))+"."]:["The small group is forced to stay against their will. Knowing that there is no way to overpower the\n        will of the others, they resign themselves to life in the tribe. The tribe avoids contact with the outside world,\n        fearing that otherwise this will happen again.","The rest of the tribe is unhappy, but ultimately willing to let the group forge their own path."]},e.outcomeFunctions=function(n,i){var r=e.newTribeName;return[function(){n.addCulture("noOutsideContact")},function(){var e=n.split([.8,.2])[0];r.length>0&&e.setName(r),e.attitudes.others=t.Attitudes.Others.Diplomatic,e.attitudes.world=t.Attitudes.World.Explore,e.setMigrationChance(1e-5);var a=i.nearby();o.Random.choice(a).addTribe(e)}]},e.id="GroupBreaksAwayFromInsularTribeEvent",e}(),C=function(){function e(){}return e.triggers=function(n,i,r){if(n.attitudes.monolith==t.Attitudes.Monolith.Unencountered)return!1;if(n.attitudes.others!=t.Attitudes.Others.Diplomatic)return!1;if(!n.hasTechnology("language"))return!1;var a=i.tribes().filter(function(e,t,o){return e!=n&&e.hasTechnology("language")&&0==n.relationship(e)});return 0!=a.length&&(!!o.Random.chance(5e-4)&&(e.otherTribe=o.Random.choice(a),!0))},e.progress=function(e,t){return 0},e.isChoice=function(){return!0},e.choices=function(o){var n=e.otherTribe;return n.attitudes.others==t.Attitudes.Others.Aggressive?["The dead must be avenged.","The aggressors should be avoided."]:n.attitudes.others==t.Attitudes.Others.Defensive?["They would make valuable allies.","They should be left in peace."]:n.attitudes.others==t.Attitudes.Others.Diplomatic?["They would make valuable friends.","Their kindness is appreciated."]:["How dare they reject the envoys?","Their isolation should be respected."]},e.choicePrompt=function(o){var n=e.otherTribe,i=o.titleCapitalized()+" has decided to send a small group of envoys to a nearby tribe,\n    "+n.title()+", in the hopes of getting to know them better. A group of tribespeople leave one morning,\n    bearing gifts for their neighbours.";return n.attitudes.others==t.Attitudes.Others.Aggressive?i+=" "+n.titleCapitalized()+" are aggressive toward the envoys. Shortly after arriving in their camp,\n      they are all brutally killed.":n.attitudes.others==t.Attitudes.Others.Defensive?i+=" "+n.titleCapitalized()+" seem suspicious of the envoys. They are allowed to enter the camp,\n      and after a short while the tribe realizes that they mean no harm. The gifts seem appreciated, and the envoys\n      return to their home.":n.attitudes.others==t.Attitudes.Others.Diplomatic?i+=" "+n.titleCapitalized()+" are welcoming of the envoys, and seem pleased to have met another tribe.\n      The gifts are greatly appreciated, and the envoys return to their home. A few days later, a group of envoys from\n      "+n.title()+" arrive at the camp of "+o.title()+", bearing gifts in return.":i+=" "+n.titleCapitalized()+" are deeply suspicious of the envoys, refusing to allow them anywhere near\n      the camp. The envoys are disappointed, but decide it is better to leave in peace than risk provoking anyone.",i},e.outcomeMessages=function(o,n){var i=e.otherTribe;return i.attitudes.others==t.Attitudes.Others.Aggressive?[o.titleCapitalized()+" are angry at the loss of their envoys, and the tribespeople swear\n        that their deaths shall be avenged.",o.titleCapitalized()+" are angry at the loss of their envoys, but realise that to escalate\n        the conflict would only result in further deaths."]:i.attitudes.others==t.Attitudes.Others.Defensive?[o.titleCapitalized()+" are pleased to have made contact with "+i.title()+",\n        and decide that it would be good to further improve their relations.",o.titleCapitalized()+" are pleased to have made contact with "+i.title()+",\n        but decide it would be better if they were left in peace."]:i.attitudes.others==t.Attitudes.Others.Diplomatic?[o.titleCapitalized()+" are pleased to have made contact with "+i.title()+",\n        and both tribes decide that they would like to improve their relations.",o.titleCapitalized()+" appreciate the kindness of "+i.title()+", and are\n        glad to know of other tribes that have the same views as them."]:[o.titleCapitalized()+" are offended at their envoys being rejected.",o.titleCapitalized()+" are disappointed at their envoys being rejected, but\n        decide that it is better to leave "+i.title()+" in peace."]},e.outcomeFunctions=function(o,n){var i=e.otherTribe;return i.attitudes.others==t.Attitudes.Others.Aggressive?[function(){o.changeRelationship(i,-2),i.changeRelationship(o,-2)},function(){o.changeRelationship(i,-1),i.changeRelationship(o,-1)}]:i.attitudes.others==t.Attitudes.Others.Defensive?[function(){o.changeRelationship(i,2),i.changeRelationship(o,2)},function(){o.changeRelationship(i,1),i.changeRelationship(o,1)}]:i.attitudes.others==t.Attitudes.Others.Diplomatic?[function(){o.changeRelationship(i,3),i.changeRelationship(o,3)},function(){o.changeRelationship(i,2),i.changeRelationship(o,2)}]:[function(){o.changeRelationship(i,-2),i.changeRelationship(o,-2)},function(){o.changeRelationship(i,-1),i.changeRelationship(o,-1)}]},e.id="DiplomaticEnvoyEvent",e}(),T=function(){function e(){}return e.triggers=function(e,t,n){return!!t.hasMonolith&&(!!e.hasCulture("celebratesMonolith")&&(!!e.hasTechnology("language")&&(!!t.hasStructure("monolithTemple")&&(n>400&&o.Random.chance(.05)))))},e.progress=function(e,t){return t.hasMonolith&&e.hasCulture("celebratesMonolith")&&e.hasTechnology("language")&&t.hasStructure("monolithTemple")?1:0},e.isChoice=function(){return!0},e.choices=function(e){return e.hasCulture("humanSacrifice")?["This is horrible.","This is a worthy sacrifice."]:["Their songs and offerings please me.","Their songs and offerings are not enough."]},e.choicePrompt=function(e){return e.hasCulture("humanSacrifice")?e.hasCulture("templeBuilders")?e.titleCapitalized()+" have gathered at the temple they built in your name.\n        Many of them have brought offerings to place at your base in the hope that they will be blessed\n        by you. Once all the offerings have been made, they stand in a circle around you and sing songs of worship.\n        After the songs are complete, two of the tribe's priests bring a young man to you.\n        \"We offer this sacrifice in the hope that it pleases you, great stone,\" they say, as they slit the man's throat.":e.titleCapitalized()+" has made a pilgramage to your temple.\n        Many of them have brought offerings to place at your base in the hope that they will be blessed\n        by you. Once all the offerings have been made, they stand in a circle around you and sing songs of worship.\n        After the songs are complete, two of the tribe's priests bring a young man to you.\n        \"We offer this sacrifice in the hope that it pleases you, great stone,\" they say, as they slit the man's throat.":e.hasCulture("templeBuilders")?e.titleCapitalized()+" have gathered at the temple they built in your name.\n        Many of them have brought offerings to place at your base in the hope that they will be blessed\n        by you. Once all the offerings have been made, they stand in a circle around you and sing songs of worship.":e.titleCapitalized()+" has made a pilgramage to your temple.\n        Many of them have brought offerings to place at your base in the hope that they will be blessed\n        by you. Once all the offerings have been made, they stand in a circle around you and sing songs of worship."},e.outcomeMessages=function(e,t){return e.hasCulture("humanSacrifice")?["The tribe is confused as to what they must do to please you.","The tribe is glad that this sacrifice pleases you."]:["The tribe is glad to have earned your favour.","The tribe is scared that they have displeased you.\n        As they leave the temple, their priests discuss what must be done to earn\n        your favour."]},e.outcomeFunctions=function(e,t){return e.hasCulture("humanSacrifice")?[function(){e.decreasePopulation(1),o.Random.chance(.2)&&e.removeCulture("humanSacrifice")},function(){e.decreasePopulation(1)}]:[function(){},function(){e.addCulture("humanSacrifice")}]},e.id="TribeCelebratesMonolithEvent",e}(),A=function(){function e(){}return e.triggers=function(e,n,i){return e.attitudes.others==t.Attitudes.Others.Aggressive&&(e.attitudes.self==t.Attitudes.Self.Hierarchical&&(!(e.population()<150)&&(e.attitudes.monolith!=t.Attitudes.Monolith.Unencountered&&(!e.hasCulture("warlordsRule")&&o.Random.progressiveChance(1e-5,i,.005)))))},e.progress=function(e,o){return e.attitudes.others!=t.Attitudes.Others.Aggressive?0:e.attitudes.self!=t.Attitudes.Self.Hierarchical?0:e.population()<150?0:e.attitudes.monolith==t.Attitudes.Monolith.Unencountered?0:e.hasCulture("warlordsRule")?0:1},e.isChoice=function(){return!0},e.choices=function(e){return["The warlords have no right to rule.","The warlords are the rightful rulers."]},e.choicePrompt=function(e){return"A small group of warlords from "+e.title()+" have decided that they are the tribe's\n    rightful rulers. They have proven themselves on the battlefield and feel that they are most capable of\n    leading the tribe."},e.outcomeMessages=function(e,t){return["The tribe attempts to force the warlords out of their settlement, but they refuse, preferring to fight.\n      In the ensuing battle, a number of tribespeople are killed, as are all of the warlords.","The warlords take their place as the rightful rulers of the tribe."]},e.outcomeFunctions=function(e,n){return[function(){var n=Math.floor(.3*e.population()),i=Math.floor(.1*e.population());e.decreasePopulation(o.Random.interval(i,n)),e.attitudes.self=t.Attitudes.Self.Egalitarian},function(){e.addCulture("warlordsRule")}]},e.id="WarlordsTakePowerEvent",e}();exports.TribeEvents=[u,a,s,c,d,f,p,g,m,y,M,T,C,b,v,w,A,h,l,i.FireSpreadsEvent,i.DroughtEvent,i.PlagueEvent,r.DiscoverFireEvent,r.DiscoverToolsEvent,r.DiscoverConstructionEvent,r.DiscoverLanguageEvent,r.DiscoverAgricultureEvent];
},{"./tribe":"u4WM","./random":"iJlX","./language":"azeZ","./tribe_events_disasters":"TwuV","./tribe_events_discovery":"ZWaP"}]},{},["MNAu"], null)
//# sourceMappingURL=tribe_events.5e662fe0.js.map