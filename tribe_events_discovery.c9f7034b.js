parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"iJlX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(){}return n.interval=function(n,r){return Math.floor(Math.random()*(r-n+1))+n},n.choice=function(r){return r[n.interval(0,r.length-1)]},n.chance=function(n){return Math.random()<n},n.progressiveChance=function(n,r,t){var e=Math.min(r*n,t);return Math.random()<e},n}();exports.Random=n;
},{}],"oXG4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.allocate=function(r){e.ids.hasOwnProperty(r)||(e.ids[r]=0);var t=r+"-"+e.ids[r];return e.ids[r]++,t},e.ids={},e}();exports.IDAllocator=e;
},{}],"azeZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var t=require("./random"),e=[],i=0;i<26;i++)e[i]=String.fromCharCode(97+i);var n=["a","e","i","o","u"],o=e.filter(function(t,e,i){return-1==n.indexOf(t)}),r=function(){return function(t,e){this.suffix=t,this.optional=e}}(),a=function(){return function(t,e,i,n){this.base=t,this.plural=e,this.genitive=i,this.adjectives=n}}();exports.Noun=a;var s=function(){function e(){this.plural=e.getSuffix(),this.genitive=e.getSuffix(),this.adjective=e.getSuffix(),t.Random.chance(.5)?this.adjectivePolicy=e.Position.Before:this.adjectivePolicy=e.Position.After,this.translations={}}return e.capitalize=function(t){var e=t.slice(1);return t.charAt(0).toUpperCase()+e},e.toTitle=function(t){return t.split(" ").map(e.capitalize).join(" ")},e.getSuffix=function(){var e=t.Random.choice(n),i=t.Random.choice(o)+t.Random.choice(n);return new r(i,e)},e.addSuffix=function(t,e){return o.indexOf(t[t.length-1])>-1&&(t+=e.optional),t+=e.suffix},e.prototype.translate=function(t){for(var i=[],n=0,o=t;n<o.length;n++){var r=o[n],a=this.translateWord(r.base);r.plural&&(a=e.addSuffix(a,this.plural)),r.genitive&&(a=e.addSuffix(a,this.genitive));for(var s=[],f=0,u=r.adjectives;f<u.length;f++){var c=u[f],h=this.translateWord(c);h=e.addSuffix(h,this.adjective),s.push(h)}this.adjectivePolicy==e.Position.Before&&(i=i.concat(s)),i.push(a),this.adjectivePolicy==e.Position.After&&(i=i.concat(s))}return i.join(" ")},e.prototype.translateWord=function(t){for(var e=[],i="",r=0,a=t.split("");r<a.length;r++){var s=a[r];if(i.length>0){var f=i[i.length-1];n.indexOf(f)>-1?(e.push(i),i=""):o.indexOf(f)>-1&&o.indexOf(s)>-1&&f!=s&&(e.push(i),i="")}i+=s}i.length>0&&e.push(i);for(var u="",c=0,h=e;c<h.length;c++){var l=h[c];u+=this.translatePhoneme(l)}return u},e.prototype.translatePhoneme=function(e){if(!this.translations.hasOwnProperty(e)){for(var i="",r=0,a=e.split("");r<a.length;r++){var s=a[r];o.indexOf(s)>-1?i+=t.Random.choice(o):i+=t.Random.choice(n)}this.translations[e]=i}return this.translations[e]},e}();exports.Language=s,function(t){!function(t){t.Before="Before",t.After="After"}(t.Position||(t.Position={}))}(s=exports.Language||(exports.Language={})),exports.Language=s;
},{"./random":"iJlX"}],"u4WM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./random"),e=require("./idallocator"),o=require("./language"),i=function(){function i(i){this.id=e.IDAllocator.allocate("tribe"),this._population=i,this._migrationChance=1e-6,this._eventProgress={},this._relations={},this._technology=[],this._culture=[],this._name=[],this.attitudes=new r,this.attitudes.monolith=r.Monolith.Unencountered,this.dead=!1,this.attitudes.others=t.Random.choice([r.Others.Aggressive,r.Others.Defensive,r.Others.Diplomatic,r.Others.Insular]),this.attitudes.world=t.Random.choice([r.World.Exploit,r.World.Explore,r.World.Harmony,r.World.Survival]),this.attitudes.self=t.Random.choice([r.Self.Hierarchical,r.Self.Egalitarian]),this._language=new o.Language}return i.prototype.population=function(){return this._population},i.prototype.decreasePopulation=function(t){this._population-=t},i.prototype.increasePopulation=function(t){this._population+=t},i.prototype.grow=function(){this.population();for(var e=0,o=0,i=this.growthRate(),r=this.deathRate(),n=0;n<20;n++)t.Random.chance(i)&&(e+=Math.floor(.05*this.population())),t.Random.chance(r)&&(o+=Math.floor(.05*this.population()));this.increasePopulation(e),this.decreasePopulation(o)},i.prototype.split=function(t){for(var e=[],o=[],r=0,n=t;r<n.length;r++){var s=n[r];e.push(Math.floor(this._population*s))}for(var a=0,u=e.slice(1);a<u.length;a++){var h=new i(s=u[a]);h.attitudes.monolith=this.attitudes.monolith,h.attitudes.others=this.attitudes.others,h.attitudes.world=this.attitudes.world,h.attitudes.self=this.attitudes.self;for(var l=0,c=this._technology;l<c.length;l++){var p=c[l];h.addTechnology(p)}for(var d=0,g=this._culture;d<g.length;d++){var f=g[d];h.addCulture(f)}h.setMigrationChance(this._migrationChance),o.push(h)}return this._population=Math.floor(t[0]*this._population),o},i.prototype.relationship=function(t){return this._relations.hasOwnProperty(t.id)?this._relations[t.id]:0},i.prototype.changeRelationship=function(t,e){this._relations.hasOwnProperty(t.id)||(this._relations[t.id]=0),this._relations[t.id]+=e,console.log("Set relationship of "+this.id+" for "+t.id+" to "+this._relations[t.id]+".")},i.prototype.attack=function(){var t=0;return this.attitudes.others==r.Others.Aggressive&&(t+=1),this.hasTechnology("tools")&&(t+=1),t},i.prototype.defense=function(){var t=0;return this.attitudes.others==r.Others.Defensive&&(t+=1),this.hasTechnology("construction")&&(t+=1),t},i.prototype.migrate=function(){return t.Random.chance(this._migrationChance)},i.prototype.setMigrationChance=function(t){this._migrationChance=t},i.prototype.progress=function(t){return this._eventProgress[t.id]},i.prototype.increaseProgress=function(t,e){var o=0;this._eventProgress.hasOwnProperty(t.id)&&(o=this._eventProgress[t.id]),this._eventProgress[t.id]=o+e},i.prototype.resetProgress=function(t){this._eventProgress[t.id]=0},i.prototype.addTechnology=function(t){this._technology.indexOf(t)>-1||this._technology.push(t)},i.prototype.removeTechnology=function(t){var e=this._technology.indexOf(t);-1!=e&&this._technology.splice(e,1)},i.prototype.hasTechnology=function(t){return this._technology.indexOf(t)>-1},i.prototype.addCulture=function(t){this._culture.indexOf(t)>-1||this._culture.push(t)},i.prototype.removeCulture=function(t){var e=this._culture.indexOf(t);-1!=e&&this._culture.splice(e,1)},i.prototype.hasCulture=function(t){return this._culture.indexOf(t)>-1},i.prototype.title=function(){return 0==this._name.length?"a tribe":"the "+o.Language.toTitle(this._language.translate(this._name))},i.prototype.titleCapitalized=function(){return 0==this._name.length?"A tribe":"The "+o.Language.toTitle(this._language.translate(this._name))},i.prototype.setName=function(t){this._name=t},i.prototype.name=function(){return this._name},i.prototype.language=function(){return this._language},i.prototype.growthRate=function(){var t=1e-4;return this.hasTechnology("fire")&&(t*=4),this.hasTechnology("agriculture")&&(t*=4),t},i.prototype.deathRate=function(){return 1e-4},i}();exports.Tribe=i;var r=function(){function t(){}return t.MonolithString=function(e){switch(e){case t.Monolith.Unencountered:return"unencountered";case t.Monolith.Curious:return"curious";case t.Monolith.Superstitious:return"superstitious";case t.Monolith.Fearful:return"fearful"}},t.OthersString=function(e){switch(e){case t.Others.Aggressive:return"aggressive";case t.Others.Defensive:return"defensive";case t.Others.Diplomatic:return"diplomatic";case t.Others.Insular:return"insular"}},t.WorldString=function(e){switch(e){case t.World.Exploit:return"exploitative";case t.World.Explore:return"explorative";case t.World.Harmony:return"harmonious";case t.World.Survival:return"survivalists"}},t.SelfString=function(e){switch(e){case t.Self.Hierarchical:return"hierarchical";case t.Self.Egalitarian:return"egalitarian"}},t.prototype.monolithString=function(){return t.MonolithString(this.monolith)},t.prototype.othersString=function(){return t.OthersString(this.others)},t.prototype.worldString=function(){return t.WorldString(this.world)},t.prototype.selfString=function(){return t.SelfString(this.self)},t}();exports.Attitudes=r,function(t){!function(t){t.Unencountered="unencountered",t.Curious="curious",t.Superstitious="superstitious",t.Fearful="fearful"}(t.Monolith||(t.Monolith={})),function(t){t.Aggressive="aggressive",t.Defensive="defensive",t.Diplomatic="diplomatic",t.Insular="insular"}(t.Others||(t.Others={})),function(t){t.Exploit="exploit",t.Explore="explore",t.Harmony="harmony",t.Survival="survival"}(t.World||(t.World={})),function(t){t.Hierarchical="hierarchical",t.Egalitarian="egalitarian"}(t.Self||(t.Self={}))}(r=exports.Attitudes||(exports.Attitudes={})),exports.Attitudes=r;
},{"./random":"iJlX","./idallocator":"oXG4","./language":"azeZ"}],"I3dR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./random"),t=function(){function t(){this.hasMonolith=!1,this._tribes=[],this._nearbyRegions=[],this._structures=[];var r=e.Random.interval(0,6);switch(this._type=t.Type.Undefined,r){case 0:this._type=t.Type.Desert;break;case 1:this._type=t.Type.Grassland;break;case 2:this._type=t.Type.Hills;break;case 3:this._type=t.Type.Mountains;break;case 4:this._type=t.Type.Tundra;break;case 5:this._type=t.Type.Valley;break;case 6:this._type=t.Type.Rainforest}this._food=e.Random.interval(2,4),this._water=e.Random.interval(2,4),this._resources=e.Random.interval(2,4)}return t.prototype.levelString=function(e){switch(e){case 0:return"no";case 1:return"scarce";case 2:return"barely adequate";case 3:return"adequate";case 4:return"sufficient";case 5:return"plentiful";case 6:return"abundant"}return"INVALID"},t.prototype.type=function(){return this._type},t.prototype.typeString=function(){return t.Type[this._type]},t.prototype.typeStringLowercase=function(){switch(this._type){case t.Type.Desert:return"desert";case t.Type.Grassland:return"grassland";case t.Type.Hills:return"hills";case t.Type.Mountains:return"mountains";case t.Type.Tundra:return"tundra";case t.Type.Valley:return"valley";case t.Type.Rainforest:return"rainforest";case t.Type.Undefined:return"UNDEFINED"}},t.prototype.typeDescription=function(){switch(this._type){case t.Type.Desert:return"desert";case t.Type.Grassland:return"grassland";case t.Type.Hills:return"hilly";case t.Type.Mountains:return"mountainous";case t.Type.Tundra:return"tundra";case t.Type.Valley:return"valley";case t.Type.Rainforest:return"rainforest";case t.Type.Undefined:return"UNDEFINED"}},t.prototype.food=function(){switch(this._type){case t.Type.Desert:return this._food-1;case t.Type.Grassland:return this._food+1;case t.Type.Hills:return this._food;case t.Type.Mountains:return this._food-2;case t.Type.Tundra:return this._food-1;case t.Type.Valley:return this._food+1;case t.Type.Rainforest:return this._food+2;case t.Type.Undefined:return 0}},t.prototype.foodString=function(){return this.levelString(this.food())},t.prototype.water=function(){switch(this._type){case t.Type.Desert:return this._water-2;case t.Type.Grassland:return this._water;case t.Type.Hills:return this._water+1;case t.Type.Mountains:case t.Type.Tundra:return this._water-1;case t.Type.Valley:return this._water+2;case t.Type.Rainforest:return this._water;case t.Type.Undefined:return 0}},t.prototype.waterString=function(){return this.levelString(this.water())},t.prototype.resources=function(){switch(this._type){case t.Type.Desert:return this._resources+1;case t.Type.Grassland:return this._resources-2;case t.Type.Hills:return this._resources+1;case t.Type.Mountains:return this._resources+2;case t.Type.Tundra:return this._resources;case t.Type.Valley:return this._resources-1;case t.Type.Rainforest:return this._resources;case t.Type.Undefined:return 0}},t.prototype.resourcesString=function(){return this.levelString(this.resources())},t.prototype.tribesCount=function(){return this._tribes.length},t.prototype.tribes=function(){return this._tribes},t.prototype.population=function(){for(var e=0,t=0,r=this._tribes;t<r.length;t++){e+=r[t].population()}return e},t.prototype.addTribe=function(e){this._tribes.push(e)},t.prototype.removeTribe=function(e){var t=this._tribes.indexOf(e);t>=0&&this._tribes.splice(t,1)},t.prototype.addNearbyRegion=function(e){this._nearbyRegions.indexOf(e)>-1||(this._nearbyRegions.push(e),e.addNearbyRegion(this))},t.prototype.nearby=function(){return this._nearbyRegions},t.prototype.addStructure=function(e){this._structures.indexOf(e)>-1||this._structures.push(e)},t.prototype.hasStructure=function(e){return this._structures.indexOf(e)>-1},t}();exports.Region=t,function(e){!function(e){e.Desert="Desert",e.Grassland="Grassland",e.Hills="Hills",e.Mountains="Mountains",e.Tundra="Tundra",e.Valley="Valley",e.Rainforest="Rainforest",e.Undefined="Undefined"}(e.Type||(e.Type={}))}(t=exports.Region||(exports.Region={})),exports.Region=t;
},{"./random":"iJlX"}],"ZWaP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./random"),e=require("./tribe"),o=require("./region"),n=require("./language"),i=function(){function n(){}return n.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("fire"))return!1;if(o.hasCulture("afraidOfFire"))return!1;var r=1e-6;return o.attitudes.monolith==e.Attitudes.Monolith.Curious&&(r=2e-6),t.Random.progressiveChance(r,i,.005)},n.progress=function(n,i){return n.hasTechnology("fire")?0:n.hasCulture("afraidOfFire")?0:n.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:i.type()==o.Region.Type.Desert?t.Random.interval(0,3):t.Random.interval(-1,2)},n.isChoice=function(){return!0},n.choices=function(t){return["Fire is useful.","Fire is dangerous."]},n.choicePrompt=function(t){return"While wandering on a hot, dry day, a member of "+t.title()+" notices food left in the wake of a wildfire.\n        Noticing that the food seems firmer and smells different, the tribesperson brings it back to show the others."},n.outcomeMessages=function(t,e){return["The tribe is curious about the possible uses of this phenomenon. Some begin using it to cook their food,\n            while others use it to provide light at night.","The tribe is afraid of this phenomenon. They avoid it, not understanding the benefits it could bring."]},n.outcomeFunctions=function(o,n){return[function(){o.addTechnology("fire"),t.Random.chance(.1)&&(o.attitudes.monolith=e.Attitudes.Monolith.Curious),console.log(o.title()+" has discovered fire.")},function(){o.addCulture("afraidOfFire"),t.Random.chance(.1)&&(o.attitudes.monolith=e.Attitudes.Monolith.Fearful),console.log(o.title()+" has shunned fire.")}]},n.id="DiscoverFireEvent",n}();exports.DiscoverFireEvent=i;var r=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("tools"))return!1;var r=1e-6;return o.attitudes.monolith==e.Attitudes.Monolith.Curious&&(r=2e-6),t.Random.progressiveChance(r,i,.005)},o.progress=function(o,n){return o.hasTechnology("tools")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:n.resources()>2?t.Random.interval(0,3):t.Random.interval(-1,2)},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return["A small group from "+t.title()+" have developed simple stone tools to aid them in their daily lives.\n            They show the rest of their tribe, and the tools quickly catch on, with the tribe using them to enhance\n            their abilities."]},o.outcomeFunctions=function(t,e){return[function(){t.addTechnology("tools"),console.log(t.title()+" has discovered tools.")}]},o.id="DiscoverToolsEvent",o}();exports.DiscoverToolsEvent=r;var u=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(!o.hasTechnology("tools"))return!1;if(o.hasTechnology("construction"))return!1;var r=1e-6;return o.attitudes.others==e.Attitudes.Others.Defensive&&(r=2e-6),t.Random.progressiveChance(r,i,.005)},o.progress=function(o,n){return o.hasTechnology("tools")?o.hasTechnology("construction")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:n.resources()>0?t.Random.interval(0,1):0:0},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return[t.titleCapitalized()+" has begun using stone and wood, along with their tools, to construct\n            simple buildings in which to live and store food."]},o.outcomeFunctions=function(t,e){return[function(){t.addTechnology("construction"),t.setMigrationChance(0),console.log(t.title()+" has discovered construction.")}]},o.id="DiscoverConstructionEvent",o}();exports.DiscoverConstructionEvent=u;var s=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("language"))return!1;if(o.population()<80)return!1;var r=1e-6;return o.attitudes.others==e.Attitudes.Others.Diplomatic&&(r=2e-6),t.Random.progressiveChance(r,i,.01)},o.progress=function(o,n){return o.hasTechnology("language")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:o.population()<80?0:t.Random.interval(0,3)},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return o.tribeName=o.generateTribeName(t,e),["You notice that a tribe seems to be using a more advanced form of communication.\n            As your language coprocessor engages, you discover that they now call themselves the\n            "+n.Language.toTitle(t.language().translate(o.tribeName))+"."]},o.outcomeFunctions=function(t,e){var n=o.tribeName;return[function(){t.addTechnology("language"),t.setName(n),console.log("A tribe has discovered language.")}]},o.generateTribeName=function(t,o){var i=[],r="";return t.attitudes.monolith==e.Attitudes.Monolith.Superstitious?r="devout":t.attitudes.monolith==e.Attitudes.Monolith.Curious?r="curious":t.attitudes.monolith==e.Attitudes.Monolith.Fearful&&(r="fearful"),t.attitudes.others==e.Attitudes.Others.Aggressive?i.push(new n.Noun("warrior",!0,!1,[r])):t.attitudes.world==e.Attitudes.World.Explore?i.push(new n.Noun("explorer",!0,!1,[r])):t.attitudes.self==e.Attitudes.Self.Egalitarian?i.push(new n.Noun("community",!1,!1,[r])):i.push(new n.Noun("person",!0,!1,[r])),i},o.id="DiscoverLanguageEvent",o}();exports.DiscoverLanguageEvent=s;var a=function(){function o(){}return o.triggers=function(o,n,i){if(o.attitudes.monolith==e.Attitudes.Monolith.Unencountered)return!1;if(o.hasTechnology("agriculture"))return!1;if(o.population()<200)return!1;if(!o.hasTechnology("tools"))return!1;if(o.hasCulture("abandonedAgriculture"))return!1;var r=1e-6;return n.food()>4?r=5e-6:n.food()>2&&(r=2e-6),t.Random.progressiveChance(r,i,.01)},o.progress=function(o,n){return o.hasTechnology("agriculture")?0:o.attitudes.monolith==e.Attitudes.Monolith.Unencountered?0:o.population()<200?0:o.hasTechnology("tools")?o.hasCulture("abandonedAgriculture")?0:n.food()>4?t.Random.interval(1,5):n.food()>2?t.Random.interval(-1,4):t.Random.interval(-2,3):0},o.isChoice=function(){return!1},o.choices=function(t){return[]},o.choicePrompt=function(t){return""},o.outcomeMessages=function(t,e){return["A handful of members of "+t.title()+" seem to have stopped hunting or gathering,\n            and instead have begun collecting wild seeds and planting them. After the first harvest,\n            this new method of producing food is adopted by the whole tribe."]},o.outcomeFunctions=function(t,e){return[function(){t.addTechnology("agriculture"),console.log("A tribe has discovered agriculture.")}]},o.id="DiscoverAgricultureEvent",o}();exports.DiscoverAgricultureEvent=a;
},{"./random":"iJlX","./tribe":"u4WM","./region":"I3dR","./language":"azeZ"}]},{},["ZWaP"], null)
//# sourceMappingURL=tribe_events_discovery.c9f7034b.js.map